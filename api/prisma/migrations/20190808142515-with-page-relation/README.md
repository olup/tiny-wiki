# Migration `20190808142515-with-page-relation`

This migration has been generated by loup topalian at 8/8/2019, 2:25:15 PM.
You can check out the [state of the datamodel](./datamodel.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "lift"."_PageToPage"("A" TEXT NOT NULL  REFERENCES "Page"(id),"B" TEXT NOT NULL  REFERENCES "Page"(id));
```

## Changes

```diff
diff --git datamodel.mdl datamodel.mdl
migration 20190802135430-role-permissions..20190808142515-with-page-relation
--- datamodel.dml
+++ datamodel.dml
@@ -38,5 +38,8 @@
   published  Boolean
   draftOwner User?   @relation(name: "draftOwner")
   canView    Role[]  @relation(name: "users_can_view_pages")
   canEdit    Role[]  @relation(name: "users_can_edit_pages")
+
+  parent   Page[]
+  children Page[]
 }
```

## Photon Usage

You can use a specific Photon built for this migration (20190808142515-with-page-relation)
in your `before` or `after` migration script like this:

```ts
import Photon from '@generated/photon/20190808142515-with-page-relation'

const photon = new Photon()

async function main() {
  const result = await photon.users()
  console.dir(result, { depth: null })
}

main()

```
